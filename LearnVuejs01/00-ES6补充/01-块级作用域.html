<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<button>按钮1</button>
<button>按钮2</button>
<button>按钮3</button>
<button>按钮4</button>
<script type="text/javascript">
  //1.变量作用域:变量在什么范围内可以使用
  {
    var name = 'fancheng';
    console.log(name);
  }
  console.log(name);  //在这里同样可以访问的到name的值

  //2. 没有块级作用域所引起的问题:if的块级
  // var func;
  // if(true){
  //   var name = 'why';
  //   func = function () {
  //     console.log(name);
  //   }
  //   func();
  // }
  // name = 'fc';
  // func();
  // console.log(name);
  //3.没有块级作用域引起的问题:for的块级
  // var btns = document.getElementsByTagName('button');
  // for(var i=0;i<btns.length;i++){
  //   btns[i].addEventListener('click',function () {
  //     console.log('第' + i + '个按钮被点击');
  //     //运行时,所有按钮都是显示  第4个被点击
  //     //原因就在于遍历完后,i变成了4,然后每次点击调用函数的时候,都使用了i=4
  //   })
  // }

  //ES5之前因为if和for都没有块级作用域的概念,
  // 所以在很多时候,都必须借助于function的作用域来解决应用外面变量的问题
  //ES6中加入了let, 它是由块级作用域的
  const btns = document.getElementsByTagName('button');
  for(let i=0;i<btns.length;i++){
    btns[i].addEventListener('click',function () {
      console.log('第' + (i+1) + '个按钮被点击');
      //运行时,所有按钮都是显示  第4个被点击
      //原因就在于遍历完后,i变成了4,然后每次点击调用函数的时候,都使用了i=4
    })
  }
</script>
</body>
</html>